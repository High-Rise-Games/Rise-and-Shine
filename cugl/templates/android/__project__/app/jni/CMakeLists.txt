# PROJECT CMAKE FILE
# This file is autogenerated by the creator script
cmake_minimum_required(VERSION 3.10)
if(POLICY CMP0077)
	set(CMAKE_POLICY_DEFAULT_CMP0077 NEW)
endif()

# set the project name and version
project(__TARGET__ VERSION __VERSION__)

# specify the C++ standard
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# Add Android specific features
if (ANDROID)
	include(AndroidNdkModules)
	if (${ANDROID_ABI} STREQUAL "armeabi-v7a")
		# armeabi-v7a requires cpufeatures library
		android_ndk_import_module_cpufeatures()
	endif()
endif()

# Set the correct directories
set(CUGL_DIR  __CUGLDIR__)
set(SDL2_DIR  "${CUGL_DIR}/sdlapp")
set(ASSET_DIR  __ASSETDIR__)

# Add the CUGL project
add_subdirectory(${CUGL_DIR}/buildfiles/android/jni/cugl "cugl.dir")

# Add the SDL App project
add_subdirectory(${SDL2_DIR}/buildfiles/cmake "sdl2pckg.dir")

# Add the source code
file(GLOB SOURCE_FILES
    __SOURCELIST__)

__EXTRA_INCLUDES__

# Build and link
set(ANDROID_LIBS GLESv1_CM GLESv2 GLESv3 log android)
add_library(main SHARED)
target_sources(main PRIVATE ${SOURCE_FILES})
target_include_directories(main PUBLIC
                           "${PROJECT_BINARY_DIR}"
                            ${EXTRA_INCLUDES}
                           )
target_link_libraries(main cugl SDL2_pckg ${ANDROID_LIBS})

